<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <title>Vue 3 Demo</title>
  </head>

  <body>
    <div id="app">
      <span v-html="getMessage()"></span>

      <p v-once>Render Once Luck Number: {{ luckNumber }}</p>

      <a :href="blogUrl">Visit Blog</a>
      
      <p>Project in pipeline</p>
     <ul>
        <li v-for="(project, index) in employee.projects" :key="index">
        <span>{{ index + 1 }} - "{{ project.project }}" timeline is - {{ project.timeline }}</span>
        <input type="text"/>
        </li>
      </ul>
          {{shuffleEmployeeProjectsOrder}}

      <ul>
        <li v-for="(key, value) in employee">
          <span>{{value}}: {{key}}</span>
        </li>
      </ul>

      <p v-show="employee.hasCorporateCard">
        Spending Limit for Card (show): {{ employee.spendingLimit }}
      </p>

      <!-- use different loop var name + key -->
      <p v-for="(n, index) in luckyNumbers" :key="index">
        {{ index }} Lucky Number: {{ n }}
      </p>

      <p v-if="employee.hasCorporateCard">
        Spending Limit for Card (if): {{ employee.spendingLimit }}
      </p>
      <p v-else-if="employee.salary > 2500 && employee.yearsWithCompany > 1">
        Eligible for corporate card
      </p>
      <p v-else>Employee does not have a corporate card</p>

    </div>
  </body>

    <script>
      const { createApp, ref } = Vue;

      createApp({
        setup() {
          const message = ref("Hello Vue 3!");

          // define the single number shown with v-once
          const luckNumber = ref(7);

          // make the list reactive and return it
          const luckyNumbers = ref([3, 5, 7, 11, 15]);

          const blogUrl = "https://vuejs.org/guide/quick-start.html";

          // object as a ref (auto-unwraps in template)
          const employee = ref({
            name: "Eda",
            age: 26,
            salary: 80000,
            hasCorporateCard: true,
            spendingLimit: 1000,
            yearsWithCompany: 5,
            projects: [
              {project:"Green A", timeline:"2 years"},
              {project:"Green R", timeline:"3 years"},
              {project:"Green Z", timeline:"2 months"},
            ], // array of object 
          });

          function shuffleEmployeeProjectsOrder(){
            setTimeout(()=>{
              employee.projects.sort(()=>Math.random()-0.5);
            })
          }

          function getMessage() {
            return `<h1><u>${message.value}</u></h1>`;
          }
          

          return { getMessage, luckNumber, luckyNumbers, employee, blogUrl,shuffleEmployeeProjectsOrder };
        },
      }).mount("#app");
    </script>

</html>
